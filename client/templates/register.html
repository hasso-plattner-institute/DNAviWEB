<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>DNAvi | Register Page</title>
    <img src="{{ url_for('static', filename='img/logo.svg') }}" alt="logo" width=7%; height=auto; style="float:left"></h1>


    <!-- Accessibility & Meta -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
    <meta name="color-scheme" content="light" />
    <meta name="theme-color" content="#007bff" media="(prefers-color-scheme: light)" />
    <meta name="theme-color" content="#1a1a1a" media="(prefers-color-scheme: dark)" />

    <!-- Fonts -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fontsource/source-sans-3@5.0.12/index.css" media="print" onload="this.media='all'" />

    <!-- Plugins -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/overlayscrollbars@2.11.0/styles/overlayscrollbars.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/adminlte.css') }}" />
  </head>
  <body class="register-page bg-body-secondary">
    <div class="register-box">
      <div class="register-logo">
        <a href="{{ url_for('home') }}"><b>DNA</b>vi</a>
      </div>

      <div class="card card-outline card-primary">
        <div class="card-body register-card-body">
          <p class="login-box-msg">Register a new membership</p>
          <!-- begin :: User already exists -->
          {% if error %}
            <div class="alert alert-danger">
              {{ error }}
            </div>
          {% endif %}
          <!-- end :: User already exists -->
          <form action="{{ url_for('register') }}" method="POST">
            <div class="input-group mb-3">
              <input type="text" class="form-control" name="username" placeholder="Username" required />
              <div class="input-group-text"><span class="bi bi-envelope"></span></div>
            </div>
            <div class="input-group mb-3">
              <input type="password" class="form-control" name="pw" placeholder="Password" required />
              <div class="input-group-text"><span class="bi bi-lock-fill"></span></div>
            </div>
            <div class="input-group mb-3">
              <input type="password" class="form-control" name="confirm_password" placeholder="Confirm Password" required />
              <div class="input-group-text"><span class="bi bi-lock-fill"></span></div>
            </div>
            <div class="row mb-3">
              <div class="col-8">
                <!-- Checkbox with link -->
                <div class="form-check mb-3">
                  <input class="form-check-input" type="checkbox" id="agreeTerms" required>
                  <label class="form-check-label" for="agreeTerms">
                    I agree to the <a href="#" data-bs-toggle="modal" data-bs-target="#termsModal">Terms & Conditions</a>
                  </label>
                </div>

                <!-- Modal -->
                <div class="modal fade" id="termsModal" tabindex="-1" aria-labelledby="termsModalLabel" aria-hidden="true">
                  <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                      <div class="modal-header">
                        <h5 class="modal-title" id="termsModalLabel">DNAvi Terms</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                      </div>
                      <div class="modal-body" style="max-height:400px; overflow-y:auto;">
                        <h2>Terms & Conditions </h2>
                        <div id="list">
                            <p><iframe src="static/legal/T&C.txt" frameborder="0" height="400" width="95%"></iframe></p>
                        </div>
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                      </div>
                    </div>
                  </div>
                </div>

              </div>
              <div class="col-4">
                <button type="submit" href="{{ url_for('login') }}" class="btn btn-primary btn-block" >Register</button>
              </div>
            </div>
          </form>

          <p class="mb-1">
            <a href="{{ url_for('login') }}" class="text-center">I already have a membership</a>
          </p>
        </div>
      </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/overlayscrollbars@2.11.0/browser/overlayscrollbars.browser.es6.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.min.js"></script>
    <script src="{{ url_for('static', filename='js/adminlte.js') }}"></script>
  </body>
    <!-- Footer -->
  <div class="text-center mt-3">
    <p>Copyright © Anja Hess, Yara Matani, 2025.</p>
    <p class="text-muted small mb-0">
      Design: <a href="https://adminlte.io/" target="_blank">AdminLTE</a> — 
      Open source under the <a href="https://opensource.org/license/mit" target="_blank">MIT License</a>.
    </p>
  </div>
</html>
